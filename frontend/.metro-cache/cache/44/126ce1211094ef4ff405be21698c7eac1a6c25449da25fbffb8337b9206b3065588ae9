{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utils/userStorage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":123},"end":{"line":3,"column":68,"index":191}}],"key":"oOXmBNnRJFMDnc03MXM5nSfcPLs=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/UserContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"UserProvider\", {\n    enumerable: true,\n    get: function () {\n      return UserProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useUser\", {\n    enumerable: true,\n    get: function () {\n      return useUser;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _utilsUserStorage = require(_dependencyMap[1], \"../utils/userStorage\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const UserContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const UserProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadUser();\n    }, []);\n    const loadUser = async () => {\n      try {\n        const savedUser = await (0, _utilsUserStorage.getUser)();\n        setUser(savedUser);\n      } catch (error) {\n        console.error('Error loading user:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const signIn = async newUser => {\n      try {\n        await (0, _utilsUserStorage.saveUser)(newUser);\n        setUser(newUser);\n      } catch (error) {\n        console.error('Error signing in:', error);\n        throw error;\n      }\n    };\n    const signOut = async () => {\n      try {\n        await (0, _utilsUserStorage.clearUser)();\n        setUser(null);\n      } catch (error) {\n        console.error('Error signing out:', error);\n        throw error;\n      }\n    };\n    const continueAsGuest = async () => {\n      const guestUser = {\n        id: 'guest_' + Date.now(),\n        email: null,\n        fullName: null,\n        isAnonymous: true\n      };\n      await signIn(guestUser);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(UserContext.Provider, {\n      value: {\n        user,\n        loading,\n        signIn,\n        signOut,\n        continueAsGuest\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this);\n  };\n  const useUser = () => {\n    const context = (0, _react.useContext)(UserContext);\n    if (context === undefined) {\n      throw new Error('useUser must be used within a UserProvider');\n    }\n    return context;\n  };\n});","lineCount":91,"map":[[8,2,15,0,"Object"],[8,8,15,0],[8,9,15,0,"defineProperty"],[8,23,15,0],[8,24,15,0,"exports"],[8,31,15,0],[9,4,15,0,"enumerable"],[9,14,15,0],[10,4,15,0,"get"],[10,7,15,0],[10,18,15,0,"get"],[10,19,15,0],[11,6,15,0],[11,13,15,0,"UserProvider"],[11,25,15,0],[12,4,15,0],[13,2,15,0],[14,2,71,0,"Object"],[14,8,71,0],[14,9,71,0,"defineProperty"],[14,23,71,0],[14,24,71,0,"exports"],[14,31,71,0],[15,4,71,0,"enumerable"],[15,14,71,0],[16,4,71,0,"get"],[16,7,71,0],[16,18,71,0,"get"],[16,19,71,0],[17,6,71,0],[17,13,71,0,"useUser"],[17,20,71,0],[18,4,71,0],[19,2,71,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,3,0],[21,6,3,0,"_utilsUserStorage"],[21,23,3,0],[21,26,3,0,"require"],[21,33,3,0],[21,34,3,0,"_dependencyMap"],[21,48,3,0],[22,2,3,68],[22,6,3,68,"_reactJsxDevRuntime"],[22,25,3,68],[22,28,3,68,"require"],[22,35,3,68],[22,36,3,68,"_dependencyMap"],[22,50,3,68],[23,2,13,0],[23,8,13,6,"UserContext"],[23,19,13,17],[23,35,13,20],[23,39,13,20,"createContext"],[23,45,13,33],[23,46,13,33,"createContext"],[23,59,13,33],[23,61,13,63,"undefined"],[23,70,13,72],[23,71,13,73],[24,2,15,7],[24,8,15,13,"UserProvider"],[24,20,15,60],[24,23,15,63,"UserProvider"],[24,24,15,64],[25,4,15,66,"children"],[26,2,15,75],[26,3,15,76],[26,8,15,81],[27,4,16,2],[27,10,16,8],[27,11,16,9,"user"],[27,15,16,13],[27,17,16,15,"setUser"],[27,24,16,22],[27,25,16,23],[27,28,16,26],[27,32,16,26,"useState"],[27,38,16,34],[27,39,16,34,"useState"],[27,47,16,34],[27,49,16,48],[27,53,16,52],[27,54,16,53],[28,4,17,2],[28,10,17,8],[28,11,17,9,"loading"],[28,18,17,16],[28,20,17,18,"setLoading"],[28,30,17,28],[28,31,17,29],[28,34,17,32],[28,38,17,32,"useState"],[28,44,17,40],[28,45,17,40,"useState"],[28,53,17,40],[28,55,17,41],[28,59,17,45],[28,60,17,46],[29,4,19,2],[29,8,19,2,"useEffect"],[29,14,19,11],[29,15,19,11,"useEffect"],[29,24,19,11],[29,26,19,12],[29,32,19,18],[30,6,20,4,"loadUser"],[30,14,20,12],[30,15,20,13],[30,16,20,14],[31,4,21,2],[31,5,21,3],[31,7,21,5],[31,9,21,7],[31,10,21,8],[32,4,23,2],[32,10,23,8,"loadUser"],[32,18,23,16],[32,21,23,19],[32,27,23,19,"loadUser"],[32,28,23,19],[32,33,23,31],[33,6,24,4],[33,10,24,8],[34,8,25,6],[34,14,25,12,"savedUser"],[34,23,25,21],[34,26,25,24],[34,32,25,30],[34,36,25,30,"getUser"],[34,53,25,37],[34,54,25,37,"getUser"],[34,61,25,37],[34,63,25,38],[34,64,25,39],[35,8,26,6,"setUser"],[35,15,26,13],[35,16,26,14,"savedUser"],[35,25,26,23],[35,26,26,24],[36,6,27,4],[36,7,27,5],[36,8,27,6],[36,15,27,13,"error"],[36,20,27,18],[36,22,27,20],[37,8,28,6,"console"],[37,15,28,13],[37,16,28,14,"error"],[37,21,28,19],[37,22,28,20],[37,43,28,41],[37,45,28,43,"error"],[37,50,28,48],[37,51,28,49],[38,6,29,4],[38,7,29,5],[38,16,29,14],[39,8,30,6,"setLoading"],[39,18,30,16],[39,19,30,17],[39,24,30,22],[39,25,30,23],[40,6,31,4],[41,4,32,2],[41,5,32,3],[42,4,34,2],[42,10,34,8,"signIn"],[42,16,34,14],[42,19,34,17],[42,25,34,24,"newUser"],[42,32,34,37],[42,36,34,42],[43,6,35,4],[43,10,35,8],[44,8,36,6],[44,14,36,12],[44,18,36,12,"saveUser"],[44,35,36,20],[44,36,36,20,"saveUser"],[44,44,36,20],[44,46,36,21,"newUser"],[44,53,36,28],[44,54,36,29],[45,8,37,6,"setUser"],[45,15,37,13],[45,16,37,14,"newUser"],[45,23,37,21],[45,24,37,22],[46,6,38,4],[46,7,38,5],[46,8,38,6],[46,15,38,13,"error"],[46,20,38,18],[46,22,38,20],[47,8,39,6,"console"],[47,15,39,13],[47,16,39,14,"error"],[47,21,39,19],[47,22,39,20],[47,41,39,39],[47,43,39,41,"error"],[47,48,39,46],[47,49,39,47],[48,8,40,6],[48,14,40,12,"error"],[48,19,40,17],[49,6,41,4],[50,4,42,2],[50,5,42,3],[51,4,44,2],[51,10,44,8,"signOut"],[51,17,44,15],[51,20,44,18],[51,26,44,18,"signOut"],[51,27,44,18],[51,32,44,30],[52,6,45,4],[52,10,45,8],[53,8,46,6],[53,14,46,12],[53,18,46,12,"clearUser"],[53,35,46,21],[53,36,46,21,"clearUser"],[53,45,46,21],[53,47,46,22],[53,48,46,23],[54,8,47,6,"setUser"],[54,15,47,13],[54,16,47,14],[54,20,47,18],[54,21,47,19],[55,6,48,4],[55,7,48,5],[55,8,48,6],[55,15,48,13,"error"],[55,20,48,18],[55,22,48,20],[56,8,49,6,"console"],[56,15,49,13],[56,16,49,14,"error"],[56,21,49,19],[56,22,49,20],[56,42,49,40],[56,44,49,42,"error"],[56,49,49,47],[56,50,49,48],[57,8,50,6],[57,14,50,12,"error"],[57,19,50,17],[58,6,51,4],[59,4,52,2],[59,5,52,3],[60,4,54,2],[60,10,54,8,"continueAsGuest"],[60,25,54,23],[60,28,54,26],[60,34,54,26,"continueAsGuest"],[60,35,54,26],[60,40,54,38],[61,6,55,4],[61,12,55,10,"guestUser"],[61,21,55,25],[61,24,55,28],[62,8,56,6,"id"],[62,10,56,8],[62,12,56,10],[62,20,56,18],[62,23,56,21,"Date"],[62,27,56,25],[62,28,56,26,"now"],[62,31,56,29],[62,32,56,30],[62,33,56,31],[63,8,57,6,"email"],[63,13,57,11],[63,15,57,13],[63,19,57,17],[64,8,58,6,"fullName"],[64,16,58,14],[64,18,58,16],[64,22,58,20],[65,8,59,6,"isAnonymous"],[65,19,59,17],[65,21,59,19],[66,6,60,4],[66,7,60,5],[67,6,61,4],[67,12,61,10,"signIn"],[67,18,61,16],[67,19,61,17,"guestUser"],[67,28,61,26],[67,29,61,27],[68,4,62,2],[68,5,62,3],[69,4,64,2],[69,24,65,4],[69,28,65,4,"_reactJsxDevRuntime"],[69,47,65,4],[69,48,65,4,"jsxDEV"],[69,54,65,4],[69,56,65,5,"UserContext"],[69,67,65,16],[69,68,65,17,"Provider"],[69,76,65,25],[70,6,65,26,"value"],[70,11,65,31],[70,13,65,33],[71,8,65,35,"user"],[71,12,65,39],[72,8,65,41,"loading"],[72,15,65,48],[73,8,65,50,"signIn"],[73,14,65,56],[74,8,65,58,"signOut"],[74,15,65,65],[75,8,65,67,"continueAsGuest"],[76,6,65,83],[76,7,65,85],[77,6,65,85,"children"],[77,14,65,85],[77,16,66,7,"children"],[78,4,66,15],[79,6,66,15,"fileName"],[79,14,66,15],[79,16,66,15,"_jsxFileName"],[79,28,66,15],[80,6,66,15,"lineNumber"],[80,16,66,15],[81,6,66,15,"columnNumber"],[81,18,66,15],[82,4,66,15],[82,11,67,26],[82,12,67,27],[83,2,69,0],[83,3,69,1],[84,2,71,7],[84,8,71,13,"useUser"],[84,15,71,20],[84,18,71,23,"useUser"],[84,19,71,23],[84,24,71,29],[85,4,72,2],[85,10,72,8,"context"],[85,17,72,15],[85,20,72,18],[85,24,72,18,"useContext"],[85,30,72,28],[85,31,72,28,"useContext"],[85,41,72,28],[85,43,72,29,"UserContext"],[85,54,72,40],[85,55,72,41],[86,4,73,2],[86,8,73,6,"context"],[86,15,73,13],[86,20,73,18,"undefined"],[86,29,73,27],[86,31,73,29],[87,6,74,4],[87,12,74,10],[87,16,74,14,"Error"],[87,21,74,19],[87,22,74,20],[87,66,74,64],[87,67,74,65],[88,4,75,2],[89,4,76,2],[89,11,76,9,"context"],[89,18,76,16],[90,2,77,0],[90,3,77,1],[91,0,77,2],[91,3]],"functionMap":{"names":["<global>","UserProvider","useEffect$argument_0","loadUser","signIn","signOut","continueAsGuest","useUser"],"mappings":"AAA;+DCc;YCI;GDE;mBEE;GFS;iBGE;GHQ;kBIE;GJQ;0BKE;GLQ;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}