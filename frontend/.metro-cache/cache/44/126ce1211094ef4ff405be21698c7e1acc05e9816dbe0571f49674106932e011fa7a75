{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utils/userStorage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":123},"end":{"line":3,"column":68,"index":191}}],"key":"oOXmBNnRJFMDnc03MXM5nSfcPLs=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/UserContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"UserProvider\", {\n    enumerable: true,\n    get: function () {\n      return UserProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useUser\", {\n    enumerable: true,\n    get: function () {\n      return useUser;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _utilsUserStorage = require(_dependencyMap[1], \"../utils/userStorage\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const UserContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const UserProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadUser();\n    }, []);\n    const loadUser = async () => {\n      try {\n        const savedUser = await (0, _utilsUserStorage.getUser)();\n        setUser(savedUser);\n      } catch (error) {\n        console.error('Error loading user:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const signIn = async newUser => {\n      try {\n        console.log('ðŸ”µ UserContext signIn called with:', newUser);\n        await (0, _utilsUserStorage.saveUser)(newUser);\n        setUser(newUser);\n        console.log('âœ… UserContext user updated:', newUser);\n      } catch (error) {\n        console.error('âŒ Error signing in:', error);\n        throw error;\n      }\n    };\n    const signOut = async () => {\n      try {\n        await (0, _utilsUserStorage.clearUser)();\n        setUser(null);\n      } catch (error) {\n        console.error('Error signing out:', error);\n        throw error;\n      }\n    };\n    const continueAsGuest = async () => {\n      const guestUser = {\n        id: 'guest_' + Date.now(),\n        email: null,\n        fullName: null,\n        isAnonymous: true\n      };\n      await signIn(guestUser);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(UserContext.Provider, {\n      value: {\n        user,\n        loading,\n        signIn,\n        signOut,\n        continueAsGuest\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this);\n  };\n  const useUser = () => {\n    const context = (0, _react.useContext)(UserContext);\n    if (context === undefined) {\n      throw new Error('useUser must be used within a UserProvider');\n    }\n    return context;\n  };\n});","lineCount":93,"map":[[8,2,15,0,"Object"],[8,8,15,0],[8,9,15,0,"defineProperty"],[8,23,15,0],[8,24,15,0,"exports"],[8,31,15,0],[9,4,15,0,"enumerable"],[9,14,15,0],[10,4,15,0,"get"],[10,7,15,0],[10,18,15,0,"get"],[10,19,15,0],[11,6,15,0],[11,13,15,0,"UserProvider"],[11,25,15,0],[12,4,15,0],[13,2,15,0],[14,2,73,0,"Object"],[14,8,73,0],[14,9,73,0,"defineProperty"],[14,23,73,0],[14,24,73,0,"exports"],[14,31,73,0],[15,4,73,0,"enumerable"],[15,14,73,0],[16,4,73,0,"get"],[16,7,73,0],[16,18,73,0,"get"],[16,19,73,0],[17,6,73,0],[17,13,73,0,"useUser"],[17,20,73,0],[18,4,73,0],[19,2,73,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,3,0],[21,6,3,0,"_utilsUserStorage"],[21,23,3,0],[21,26,3,0,"require"],[21,33,3,0],[21,34,3,0,"_dependencyMap"],[21,48,3,0],[22,2,3,68],[22,6,3,68,"_reactJsxDevRuntime"],[22,25,3,68],[22,28,3,68,"require"],[22,35,3,68],[22,36,3,68,"_dependencyMap"],[22,50,3,68],[23,2,13,0],[23,8,13,6,"UserContext"],[23,19,13,17],[23,35,13,20],[23,39,13,20,"createContext"],[23,45,13,33],[23,46,13,33,"createContext"],[23,59,13,33],[23,61,13,63,"undefined"],[23,70,13,72],[23,71,13,73],[24,2,15,7],[24,8,15,13,"UserProvider"],[24,20,15,60],[24,23,15,63,"UserProvider"],[24,24,15,64],[25,4,15,66,"children"],[26,2,15,75],[26,3,15,76],[26,8,15,81],[27,4,16,2],[27,10,16,8],[27,11,16,9,"user"],[27,15,16,13],[27,17,16,15,"setUser"],[27,24,16,22],[27,25,16,23],[27,28,16,26],[27,32,16,26,"useState"],[27,38,16,34],[27,39,16,34,"useState"],[27,47,16,34],[27,49,16,48],[27,53,16,52],[27,54,16,53],[28,4,17,2],[28,10,17,8],[28,11,17,9,"loading"],[28,18,17,16],[28,20,17,18,"setLoading"],[28,30,17,28],[28,31,17,29],[28,34,17,32],[28,38,17,32,"useState"],[28,44,17,40],[28,45,17,40,"useState"],[28,53,17,40],[28,55,17,41],[28,59,17,45],[28,60,17,46],[29,4,19,2],[29,8,19,2,"useEffect"],[29,14,19,11],[29,15,19,11,"useEffect"],[29,24,19,11],[29,26,19,12],[29,32,19,18],[30,6,20,4,"loadUser"],[30,14,20,12],[30,15,20,13],[30,16,20,14],[31,4,21,2],[31,5,21,3],[31,7,21,5],[31,9,21,7],[31,10,21,8],[32,4,23,2],[32,10,23,8,"loadUser"],[32,18,23,16],[32,21,23,19],[32,27,23,19,"loadUser"],[32,28,23,19],[32,33,23,31],[33,6,24,4],[33,10,24,8],[34,8,25,6],[34,14,25,12,"savedUser"],[34,23,25,21],[34,26,25,24],[34,32,25,30],[34,36,25,30,"getUser"],[34,53,25,37],[34,54,25,37,"getUser"],[34,61,25,37],[34,63,25,38],[34,64,25,39],[35,8,26,6,"setUser"],[35,15,26,13],[35,16,26,14,"savedUser"],[35,25,26,23],[35,26,26,24],[36,6,27,4],[36,7,27,5],[36,8,27,6],[36,15,27,13,"error"],[36,20,27,18],[36,22,27,20],[37,8,28,6,"console"],[37,15,28,13],[37,16,28,14,"error"],[37,21,28,19],[37,22,28,20],[37,43,28,41],[37,45,28,43,"error"],[37,50,28,48],[37,51,28,49],[38,6,29,4],[38,7,29,5],[38,16,29,14],[39,8,30,6,"setLoading"],[39,18,30,16],[39,19,30,17],[39,24,30,22],[39,25,30,23],[40,6,31,4],[41,4,32,2],[41,5,32,3],[42,4,34,2],[42,10,34,8,"signIn"],[42,16,34,14],[42,19,34,17],[42,25,34,24,"newUser"],[42,32,34,37],[42,36,34,42],[43,6,35,4],[43,10,35,8],[44,8,36,6,"console"],[44,15,36,13],[44,16,36,14,"log"],[44,19,36,17],[44,20,36,18],[44,56,36,54],[44,58,36,56,"newUser"],[44,65,36,63],[44,66,36,64],[45,8,37,6],[45,14,37,12],[45,18,37,12,"saveUser"],[45,35,37,20],[45,36,37,20,"saveUser"],[45,44,37,20],[45,46,37,21,"newUser"],[45,53,37,28],[45,54,37,29],[46,8,38,6,"setUser"],[46,15,38,13],[46,16,38,14,"newUser"],[46,23,38,21],[46,24,38,22],[47,8,39,6,"console"],[47,15,39,13],[47,16,39,14,"log"],[47,19,39,17],[47,20,39,18],[47,49,39,47],[47,51,39,49,"newUser"],[47,58,39,56],[47,59,39,57],[48,6,40,4],[48,7,40,5],[48,8,40,6],[48,15,40,13,"error"],[48,20,40,18],[48,22,40,20],[49,8,41,6,"console"],[49,15,41,13],[49,16,41,14,"error"],[49,21,41,19],[49,22,41,20],[49,43,41,41],[49,45,41,43,"error"],[49,50,41,48],[49,51,41,49],[50,8,42,6],[50,14,42,12,"error"],[50,19,42,17],[51,6,43,4],[52,4,44,2],[52,5,44,3],[53,4,46,2],[53,10,46,8,"signOut"],[53,17,46,15],[53,20,46,18],[53,26,46,18,"signOut"],[53,27,46,18],[53,32,46,30],[54,6,47,4],[54,10,47,8],[55,8,48,6],[55,14,48,12],[55,18,48,12,"clearUser"],[55,35,48,21],[55,36,48,21,"clearUser"],[55,45,48,21],[55,47,48,22],[55,48,48,23],[56,8,49,6,"setUser"],[56,15,49,13],[56,16,49,14],[56,20,49,18],[56,21,49,19],[57,6,50,4],[57,7,50,5],[57,8,50,6],[57,15,50,13,"error"],[57,20,50,18],[57,22,50,20],[58,8,51,6,"console"],[58,15,51,13],[58,16,51,14,"error"],[58,21,51,19],[58,22,51,20],[58,42,51,40],[58,44,51,42,"error"],[58,49,51,47],[58,50,51,48],[59,8,52,6],[59,14,52,12,"error"],[59,19,52,17],[60,6,53,4],[61,4,54,2],[61,5,54,3],[62,4,56,2],[62,10,56,8,"continueAsGuest"],[62,25,56,23],[62,28,56,26],[62,34,56,26,"continueAsGuest"],[62,35,56,26],[62,40,56,38],[63,6,57,4],[63,12,57,10,"guestUser"],[63,21,57,25],[63,24,57,28],[64,8,58,6,"id"],[64,10,58,8],[64,12,58,10],[64,20,58,18],[64,23,58,21,"Date"],[64,27,58,25],[64,28,58,26,"now"],[64,31,58,29],[64,32,58,30],[64,33,58,31],[65,8,59,6,"email"],[65,13,59,11],[65,15,59,13],[65,19,59,17],[66,8,60,6,"fullName"],[66,16,60,14],[66,18,60,16],[66,22,60,20],[67,8,61,6,"isAnonymous"],[67,19,61,17],[67,21,61,19],[68,6,62,4],[68,7,62,5],[69,6,63,4],[69,12,63,10,"signIn"],[69,18,63,16],[69,19,63,17,"guestUser"],[69,28,63,26],[69,29,63,27],[70,4,64,2],[70,5,64,3],[71,4,66,2],[71,24,67,4],[71,28,67,4,"_reactJsxDevRuntime"],[71,47,67,4],[71,48,67,4,"jsxDEV"],[71,54,67,4],[71,56,67,5,"UserContext"],[71,67,67,16],[71,68,67,17,"Provider"],[71,76,67,25],[72,6,67,26,"value"],[72,11,67,31],[72,13,67,33],[73,8,67,35,"user"],[73,12,67,39],[74,8,67,41,"loading"],[74,15,67,48],[75,8,67,50,"signIn"],[75,14,67,56],[76,8,67,58,"signOut"],[76,15,67,65],[77,8,67,67,"continueAsGuest"],[78,6,67,83],[78,7,67,85],[79,6,67,85,"children"],[79,14,67,85],[79,16,68,7,"children"],[80,4,68,15],[81,6,68,15,"fileName"],[81,14,68,15],[81,16,68,15,"_jsxFileName"],[81,28,68,15],[82,6,68,15,"lineNumber"],[82,16,68,15],[83,6,68,15,"columnNumber"],[83,18,68,15],[84,4,68,15],[84,11,69,26],[84,12,69,27],[85,2,71,0],[85,3,71,1],[86,2,73,7],[86,8,73,13,"useUser"],[86,15,73,20],[86,18,73,23,"useUser"],[86,19,73,23],[86,24,73,29],[87,4,74,2],[87,10,74,8,"context"],[87,17,74,15],[87,20,74,18],[87,24,74,18,"useContext"],[87,30,74,28],[87,31,74,28,"useContext"],[87,41,74,28],[87,43,74,29,"UserContext"],[87,54,74,40],[87,55,74,41],[88,4,75,2],[88,8,75,6,"context"],[88,15,75,13],[88,20,75,18,"undefined"],[88,29,75,27],[88,31,75,29],[89,6,76,4],[89,12,76,10],[89,16,76,14,"Error"],[89,21,76,19],[89,22,76,20],[89,66,76,64],[89,67,76,65],[90,4,77,2],[91,4,78,2],[91,11,78,9,"context"],[91,18,78,16],[92,2,79,0],[92,3,79,1],[93,0,79,2],[93,3]],"functionMap":{"names":["<global>","UserProvider","useEffect$argument_0","loadUser","signIn","signOut","continueAsGuest","useUser"],"mappings":"AAA;+DCc;YCI;GDE;mBEE;GFS;iBGE;GHU;kBIE;GJQ;0BKE;GLQ;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}