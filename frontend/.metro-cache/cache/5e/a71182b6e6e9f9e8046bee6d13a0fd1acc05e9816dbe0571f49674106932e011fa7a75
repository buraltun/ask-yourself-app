{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utils/userStorage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":123},"end":{"line":3,"column":68,"index":191}}],"key":"oOXmBNnRJFMDnc03MXM5nSfcPLs=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/UserContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"UserProvider\", {\n    enumerable: true,\n    get: function () {\n      return UserProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useUser\", {\n    enumerable: true,\n    get: function () {\n      return useUser;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _utilsUserStorage = require(_dependencyMap[1], \"../utils/userStorage\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const UserContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const UserProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadUser();\n    }, []);\n    const loadUser = async () => {\n      try {\n        const savedUser = await (0, _utilsUserStorage.getUser)();\n        setUser(savedUser);\n      } catch (error) {\n        console.error('Error loading user:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const signIn = async newUser => {\n      try {\n        console.log('ðŸ”µ UserContext signIn called with:', newUser);\n        await (0, _utilsUserStorage.saveUser)(newUser);\n        setUser(newUser);\n        console.log('âœ… UserContext user updated:', newUser);\n      } catch (error) {\n        console.error('âŒ Error signing in:', error);\n        throw error;\n      }\n    };\n    const signOut = async () => {\n      try {\n        await (0, _utilsUserStorage.clearUser)();\n        setUser(null);\n      } catch (error) {\n        console.error('Error signing out:', error);\n        throw error;\n      }\n    };\n    const continueAsGuest = async () => {\n      const guestUser = {\n        id: 'guest_' + Date.now(),\n        email: null,\n        fullName: null,\n        isAnonymous: true\n      };\n      await signIn(guestUser);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(UserContext.Provider, {\n      value: {\n        user,\n        loading,\n        signIn,\n        signOut,\n        continueAsGuest\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this);\n  };\n  _s(UserProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = UserProvider;\n  const useUser = () => {\n    _s2();\n    const context = (0, _react.useContext)(UserContext);\n    if (context === undefined) {\n      throw new Error('useUser must be used within a UserProvider');\n    }\n    return context;\n  };\n  _s2(useUser, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"UserProvider\");\n});","lineCount":102,"map":[[10,2,15,0,"Object"],[10,8,15,0],[10,9,15,0,"defineProperty"],[10,23,15,0],[10,24,15,0,"exports"],[10,31,15,0],[11,4,15,0,"enumerable"],[11,14,15,0],[12,4,15,0,"get"],[12,7,15,0],[12,18,15,0,"get"],[12,19,15,0],[13,6,15,0],[13,13,15,0,"UserProvider"],[13,25,15,0],[14,4,15,0],[15,2,15,0],[16,2,73,0,"Object"],[16,8,73,0],[16,9,73,0,"defineProperty"],[16,23,73,0],[16,24,73,0,"exports"],[16,31,73,0],[17,4,73,0,"enumerable"],[17,14,73,0],[18,4,73,0,"get"],[18,7,73,0],[18,18,73,0,"get"],[18,19,73,0],[19,6,73,0],[19,13,73,0,"useUser"],[19,20,73,0],[20,4,73,0],[21,2,73,0],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,3,0],[23,6,3,0,"_utilsUserStorage"],[23,23,3,0],[23,26,3,0,"require"],[23,33,3,0],[23,34,3,0,"_dependencyMap"],[23,48,3,0],[24,2,3,68],[24,6,3,68,"_reactJsxDevRuntime"],[24,25,3,68],[24,28,3,68,"require"],[24,35,3,68],[24,36,3,68,"_dependencyMap"],[24,50,3,68],[25,2,13,0],[25,8,13,6,"UserContext"],[25,19,13,17],[25,35,13,20],[25,39,13,20,"createContext"],[25,45,13,33],[25,46,13,33,"createContext"],[25,59,13,33],[25,61,13,63,"undefined"],[25,70,13,72],[25,71,13,73],[26,2,15,7],[26,8,15,13,"UserProvider"],[26,20,15,60],[26,23,15,63,"UserProvider"],[26,24,15,64],[27,4,15,66,"children"],[28,2,15,75],[28,3,15,76],[28,8,15,81],[29,4,15,81,"_s"],[29,6,15,81],[30,4,16,2],[30,10,16,8],[30,11,16,9,"user"],[30,15,16,13],[30,17,16,15,"setUser"],[30,24,16,22],[30,25,16,23],[30,28,16,26],[30,32,16,26,"useState"],[30,38,16,34],[30,39,16,34,"useState"],[30,47,16,34],[30,49,16,48],[30,53,16,52],[30,54,16,53],[31,4,17,2],[31,10,17,8],[31,11,17,9,"loading"],[31,18,17,16],[31,20,17,18,"setLoading"],[31,30,17,28],[31,31,17,29],[31,34,17,32],[31,38,17,32,"useState"],[31,44,17,40],[31,45,17,40,"useState"],[31,53,17,40],[31,55,17,41],[31,59,17,45],[31,60,17,46],[32,4,19,2],[32,8,19,2,"useEffect"],[32,14,19,11],[32,15,19,11,"useEffect"],[32,24,19,11],[32,26,19,12],[32,32,19,18],[33,6,20,4,"loadUser"],[33,14,20,12],[33,15,20,13],[33,16,20,14],[34,4,21,2],[34,5,21,3],[34,7,21,5],[34,9,21,7],[34,10,21,8],[35,4,23,2],[35,10,23,8,"loadUser"],[35,18,23,16],[35,21,23,19],[35,27,23,19,"loadUser"],[35,28,23,19],[35,33,23,31],[36,6,24,4],[36,10,24,8],[37,8,25,6],[37,14,25,12,"savedUser"],[37,23,25,21],[37,26,25,24],[37,32,25,30],[37,36,25,30,"getUser"],[37,53,25,37],[37,54,25,37,"getUser"],[37,61,25,37],[37,63,25,38],[37,64,25,39],[38,8,26,6,"setUser"],[38,15,26,13],[38,16,26,14,"savedUser"],[38,25,26,23],[38,26,26,24],[39,6,27,4],[39,7,27,5],[39,8,27,6],[39,15,27,13,"error"],[39,20,27,18],[39,22,27,20],[40,8,28,6,"console"],[40,15,28,13],[40,16,28,14,"error"],[40,21,28,19],[40,22,28,20],[40,43,28,41],[40,45,28,43,"error"],[40,50,28,48],[40,51,28,49],[41,6,29,4],[41,7,29,5],[41,16,29,14],[42,8,30,6,"setLoading"],[42,18,30,16],[42,19,30,17],[42,24,30,22],[42,25,30,23],[43,6,31,4],[44,4,32,2],[44,5,32,3],[45,4,34,2],[45,10,34,8,"signIn"],[45,16,34,14],[45,19,34,17],[45,25,34,24,"newUser"],[45,32,34,37],[45,36,34,42],[46,6,35,4],[46,10,35,8],[47,8,36,6,"console"],[47,15,36,13],[47,16,36,14,"log"],[47,19,36,17],[47,20,36,18],[47,56,36,54],[47,58,36,56,"newUser"],[47,65,36,63],[47,66,36,64],[48,8,37,6],[48,14,37,12],[48,18,37,12,"saveUser"],[48,35,37,20],[48,36,37,20,"saveUser"],[48,44,37,20],[48,46,37,21,"newUser"],[48,53,37,28],[48,54,37,29],[49,8,38,6,"setUser"],[49,15,38,13],[49,16,38,14,"newUser"],[49,23,38,21],[49,24,38,22],[50,8,39,6,"console"],[50,15,39,13],[50,16,39,14,"log"],[50,19,39,17],[50,20,39,18],[50,49,39,47],[50,51,39,49,"newUser"],[50,58,39,56],[50,59,39,57],[51,6,40,4],[51,7,40,5],[51,8,40,6],[51,15,40,13,"error"],[51,20,40,18],[51,22,40,20],[52,8,41,6,"console"],[52,15,41,13],[52,16,41,14,"error"],[52,21,41,19],[52,22,41,20],[52,43,41,41],[52,45,41,43,"error"],[52,50,41,48],[52,51,41,49],[53,8,42,6],[53,14,42,12,"error"],[53,19,42,17],[54,6,43,4],[55,4,44,2],[55,5,44,3],[56,4,46,2],[56,10,46,8,"signOut"],[56,17,46,15],[56,20,46,18],[56,26,46,18,"signOut"],[56,27,46,18],[56,32,46,30],[57,6,47,4],[57,10,47,8],[58,8,48,6],[58,14,48,12],[58,18,48,12,"clearUser"],[58,35,48,21],[58,36,48,21,"clearUser"],[58,45,48,21],[58,47,48,22],[58,48,48,23],[59,8,49,6,"setUser"],[59,15,49,13],[59,16,49,14],[59,20,49,18],[59,21,49,19],[60,6,50,4],[60,7,50,5],[60,8,50,6],[60,15,50,13,"error"],[60,20,50,18],[60,22,50,20],[61,8,51,6,"console"],[61,15,51,13],[61,16,51,14,"error"],[61,21,51,19],[61,22,51,20],[61,42,51,40],[61,44,51,42,"error"],[61,49,51,47],[61,50,51,48],[62,8,52,6],[62,14,52,12,"error"],[62,19,52,17],[63,6,53,4],[64,4,54,2],[64,5,54,3],[65,4,56,2],[65,10,56,8,"continueAsGuest"],[65,25,56,23],[65,28,56,26],[65,34,56,26,"continueAsGuest"],[65,35,56,26],[65,40,56,38],[66,6,57,4],[66,12,57,10,"guestUser"],[66,21,57,25],[66,24,57,28],[67,8,58,6,"id"],[67,10,58,8],[67,12,58,10],[67,20,58,18],[67,23,58,21,"Date"],[67,27,58,25],[67,28,58,26,"now"],[67,31,58,29],[67,32,58,30],[67,33,58,31],[68,8,59,6,"email"],[68,13,59,11],[68,15,59,13],[68,19,59,17],[69,8,60,6,"fullName"],[69,16,60,14],[69,18,60,16],[69,22,60,20],[70,8,61,6,"isAnonymous"],[70,19,61,17],[70,21,61,19],[71,6,62,4],[71,7,62,5],[72,6,63,4],[72,12,63,10,"signIn"],[72,18,63,16],[72,19,63,17,"guestUser"],[72,28,63,26],[72,29,63,27],[73,4,64,2],[73,5,64,3],[74,4,66,2],[74,24,67,4],[74,28,67,4,"_reactJsxDevRuntime"],[74,47,67,4],[74,48,67,4,"jsxDEV"],[74,54,67,4],[74,56,67,5,"UserContext"],[74,67,67,16],[74,68,67,17,"Provider"],[74,76,67,25],[75,6,67,26,"value"],[75,11,67,31],[75,13,67,33],[76,8,67,35,"user"],[76,12,67,39],[77,8,67,41,"loading"],[77,15,67,48],[78,8,67,50,"signIn"],[78,14,67,56],[79,8,67,58,"signOut"],[79,15,67,65],[80,8,67,67,"continueAsGuest"],[81,6,67,83],[81,7,67,85],[82,6,67,85,"children"],[82,14,67,85],[82,16,68,7,"children"],[83,4,68,15],[84,6,68,15,"fileName"],[84,14,68,15],[84,16,68,15,"_jsxFileName"],[84,28,68,15],[85,6,68,15,"lineNumber"],[85,16,68,15],[86,6,68,15,"columnNumber"],[86,18,68,15],[87,4,68,15],[87,11,69,26],[87,12,69,27],[88,2,71,0],[88,3,71,1],[89,2,71,2,"_s"],[89,4,71,2],[89,5,15,13,"UserProvider"],[89,17,15,60],[90,2,15,60,"_c"],[90,4,15,60],[90,7,15,13,"UserProvider"],[90,19,15,60],[91,2,73,7],[91,8,73,13,"useUser"],[91,15,73,20],[91,18,73,23,"useUser"],[91,19,73,23],[91,24,73,29],[92,4,73,29,"_s2"],[92,7,73,29],[93,4,74,2],[93,10,74,8,"context"],[93,17,74,15],[93,20,74,18],[93,24,74,18,"useContext"],[93,30,74,28],[93,31,74,28,"useContext"],[93,41,74,28],[93,43,74,29,"UserContext"],[93,54,74,40],[93,55,74,41],[94,4,75,2],[94,8,75,6,"context"],[94,15,75,13],[94,20,75,18,"undefined"],[94,29,75,27],[94,31,75,29],[95,6,76,4],[95,12,76,10],[95,16,76,14,"Error"],[95,21,76,19],[95,22,76,20],[95,66,76,64],[95,67,76,65],[96,4,77,2],[97,4,78,2],[97,11,78,9,"context"],[97,18,78,16],[98,2,79,0],[98,3,79,1],[99,2,79,2,"_s2"],[99,5,79,2],[99,6,73,13,"useUser"],[99,13,73,20],[100,2,73,20],[100,6,73,20,"_c"],[100,8,73,20],[101,2,73,20,"$RefreshReg$"],[101,14,73,20],[101,15,73,20,"_c"],[101,17,73,20],[102,0,73,20],[102,3]],"functionMap":{"names":["<global>","UserProvider","useEffect$argument_0","loadUser","signIn","signOut","continueAsGuest","useUser"],"mappings":"AAA;+DCc;YCI;GDE;mBEE;GFS;iBGE;GHU;kBIE;GJQ;0BKE;GLQ;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}