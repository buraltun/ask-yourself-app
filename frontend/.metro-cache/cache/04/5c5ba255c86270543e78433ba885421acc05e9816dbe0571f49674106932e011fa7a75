{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utils/userStorage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":123},"end":{"line":3,"column":68,"index":191}}],"key":"oOXmBNnRJFMDnc03MXM5nSfcPLs=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/UserContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"UserProvider\", {\n    enumerable: true,\n    get: function () {\n      return UserProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useUser\", {\n    enumerable: true,\n    get: function () {\n      return useUser;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _utilsUserStorage = require(_dependencyMap[3], \"../utils/userStorage\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  var UserContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  var UserProvider = _ref => {\n    _s();\n    var children = _ref.children;\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n    var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n    (0, _react.useEffect)(() => {\n      loadUser();\n    }, []);\n    var loadUser = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var savedUser = yield (0, _utilsUserStorage.getUser)();\n          setUser(savedUser);\n        } catch (error) {\n          console.error('Error loading user:', error);\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function loadUser() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var signIn = /*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (newUser) {\n        try {\n          console.log('ðŸ”µ UserContext signIn called with:', newUser);\n          yield (0, _utilsUserStorage.saveUser)(newUser);\n          setUser(newUser);\n          console.log('âœ… UserContext user updated:', newUser);\n        } catch (error) {\n          console.error('âŒ Error signing in:', error);\n          throw error;\n        }\n      });\n      return function signIn(_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    var signOut = /*#__PURE__*/function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          yield (0, _utilsUserStorage.clearUser)();\n          setUser(null);\n        } catch (error) {\n          console.error('Error signing out:', error);\n          throw error;\n        }\n      });\n      return function signOut() {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n    var continueAsGuest = /*#__PURE__*/function () {\n      var _ref5 = (0, _asyncToGenerator.default)(function* () {\n        var guestUser = {\n          id: 'guest_' + Date.now(),\n          email: null,\n          fullName: null,\n          isAnonymous: true\n        };\n        yield signIn(guestUser);\n      });\n      return function continueAsGuest() {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(UserContext.Provider, {\n      value: {\n        user,\n        loading,\n        signIn,\n        signOut,\n        continueAsGuest\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this);\n  };\n  _s(UserProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = UserProvider;\n  var useUser = () => {\n    _s2();\n    var context = (0, _react.useContext)(UserContext);\n    if (context === undefined) {\n      throw new Error('useUser must be used within a UserProvider');\n    }\n    return context;\n  };\n  _s2(useUser, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"UserProvider\");\n});","lineCount":136,"map":[[15,2,15,0,"Object"],[15,8,15,0],[15,9,15,0,"defineProperty"],[15,23,15,0],[15,24,15,0,"exports"],[15,31,15,0],[16,4,15,0,"enumerable"],[16,14,15,0],[17,4,15,0,"get"],[17,7,15,0],[17,18,15,0,"get"],[17,19,15,0],[18,6,15,0],[18,13,15,0,"UserProvider"],[18,25,15,0],[19,4,15,0],[20,2,15,0],[21,2,73,0,"Object"],[21,8,73,0],[21,9,73,0,"defineProperty"],[21,23,73,0],[21,24,73,0,"exports"],[21,31,73,0],[22,4,73,0,"enumerable"],[22,14,73,0],[23,4,73,0,"get"],[23,7,73,0],[23,18,73,0,"get"],[23,19,73,0],[24,6,73,0],[24,13,73,0,"useUser"],[24,20,73,0],[25,4,73,0],[26,2,73,0],[27,2,79,2],[27,6,79,2,"_babelRuntimeHelpersAsyncToGenerator"],[27,42,79,2],[27,45,79,2,"require"],[27,52,79,2],[27,53,79,2,"_dependencyMap"],[27,67,79,2],[28,2,79,2],[28,6,79,2,"_asyncToGenerator"],[28,23,79,2],[28,26,79,2,"_interopDefault"],[28,41,79,2],[28,42,79,2,"_babelRuntimeHelpersAsyncToGenerator"],[28,78,79,2],[29,2,79,2],[29,6,79,2,"_babelRuntimeHelpersSlicedToArray"],[29,39,79,2],[29,42,79,2,"require"],[29,49,79,2],[29,50,79,2,"_dependencyMap"],[29,64,79,2],[30,2,79,2],[30,6,79,2,"_slicedToArray"],[30,20,79,2],[30,23,79,2,"_interopDefault"],[30,38,79,2],[30,39,79,2,"_babelRuntimeHelpersSlicedToArray"],[30,72,79,2],[31,2,1,0],[31,6,1,0,"_react"],[31,12,1,0],[31,15,1,0,"require"],[31,22,1,0],[31,23,1,0,"_dependencyMap"],[31,37,1,0],[32,2,3,0],[32,6,3,0,"_utilsUserStorage"],[32,23,3,0],[32,26,3,0,"require"],[32,33,3,0],[32,34,3,0,"_dependencyMap"],[32,48,3,0],[33,2,3,68],[33,6,3,68,"_reactJsxDevRuntime"],[33,25,3,68],[33,28,3,68,"require"],[33,35,3,68],[33,36,3,68,"_dependencyMap"],[33,50,3,68],[34,2,13,0],[34,6,13,6,"UserContext"],[34,17,13,17],[34,33,13,20],[34,37,13,20,"createContext"],[34,43,13,33],[34,44,13,33,"createContext"],[34,57,13,33],[34,59,13,63,"undefined"],[34,68,13,72],[34,69,13,73],[35,2,15,7],[35,6,15,13,"UserProvider"],[35,18,15,60],[35,21,15,63,"_ref"],[35,25,15,63],[35,29,15,81],[36,4,15,81,"_s"],[36,6,15,81],[37,4,15,81],[37,8,15,66,"children"],[37,16,15,74],[37,19,15,74,"_ref"],[37,23,15,74],[37,24,15,66,"children"],[37,32,15,74],[38,4,16,2],[38,8,16,2,"_useState"],[38,17,16,2],[38,20,16,26],[38,24,16,26,"useState"],[38,30,16,34],[38,31,16,34,"useState"],[38,39,16,34],[38,41,16,48],[38,45,16,52],[38,46,16,53],[39,6,16,53,"_useState2"],[39,16,16,53],[39,23,16,53,"_slicedToArray"],[39,37,16,53],[39,38,16,53,"default"],[39,45,16,53],[39,47,16,53,"_useState"],[39,56,16,53],[40,6,16,9,"user"],[40,10,16,13],[40,13,16,13,"_useState2"],[40,23,16,13],[41,6,16,15,"setUser"],[41,13,16,22],[41,16,16,22,"_useState2"],[41,26,16,22],[42,4,17,2],[42,8,17,2,"_useState3"],[42,18,17,2],[42,21,17,32],[42,25,17,32,"useState"],[42,31,17,40],[42,32,17,40,"useState"],[42,40,17,40],[42,42,17,41],[42,46,17,45],[42,47,17,46],[43,6,17,46,"_useState4"],[43,16,17,46],[43,23,17,46,"_slicedToArray"],[43,37,17,46],[43,38,17,46,"default"],[43,45,17,46],[43,47,17,46,"_useState3"],[43,57,17,46],[44,6,17,9,"loading"],[44,13,17,16],[44,16,17,16,"_useState4"],[44,26,17,16],[45,6,17,18,"setLoading"],[45,16,17,28],[45,19,17,28,"_useState4"],[45,29,17,28],[46,4,19,2],[46,8,19,2,"useEffect"],[46,14,19,11],[46,15,19,11,"useEffect"],[46,24,19,11],[46,26,19,12],[46,32,19,18],[47,6,20,4,"loadUser"],[47,14,20,12],[47,15,20,13],[47,16,20,14],[48,4,21,2],[48,5,21,3],[48,7,21,5],[48,9,21,7],[48,10,21,8],[49,4,23,2],[49,8,23,8,"loadUser"],[49,16,23,16],[50,6,23,16],[50,10,23,16,"_ref2"],[50,15,23,16],[50,22,23,16,"_asyncToGenerator"],[50,39,23,16],[50,40,23,16,"default"],[50,47,23,16],[50,49,23,19],[50,62,23,31],[51,8,24,4],[51,12,24,8],[52,10,25,6],[52,14,25,12,"savedUser"],[52,23,25,21],[52,32,25,30],[52,36,25,30,"getUser"],[52,53,25,37],[52,54,25,37,"getUser"],[52,61,25,37],[52,63,25,38],[52,64,25,39],[53,10,26,6,"setUser"],[53,17,26,13],[53,18,26,14,"savedUser"],[53,27,26,23],[53,28,26,24],[54,8,27,4],[54,9,27,5],[54,10,27,6],[54,17,27,13,"error"],[54,22,27,18],[54,24,27,20],[55,10,28,6,"console"],[55,17,28,13],[55,18,28,14,"error"],[55,23,28,19],[55,24,28,20],[55,45,28,41],[55,47,28,43,"error"],[55,52,28,48],[55,53,28,49],[56,8,29,4],[56,9,29,5],[56,18,29,14],[57,10,30,6,"setLoading"],[57,20,30,16],[57,21,30,17],[57,26,30,22],[57,27,30,23],[58,8,31,4],[59,6,32,2],[59,7,32,3],[60,6,32,3],[60,22,23,8,"loadUser"],[60,30,23,16,"loadUser"],[60,31,23,16],[61,8,23,16],[61,15,23,16,"_ref2"],[61,20,23,16],[61,21,23,16,"apply"],[61,26,23,16],[61,33,23,16,"arguments"],[61,42,23,16],[62,6,23,16],[63,4,23,16],[63,7,32,3],[64,4,34,2],[64,8,34,8,"signIn"],[64,14,34,14],[65,6,34,14],[65,10,34,14,"_ref3"],[65,15,34,14],[65,22,34,14,"_asyncToGenerator"],[65,39,34,14],[65,40,34,14,"default"],[65,47,34,14],[65,49,34,17],[65,60,34,24,"newUser"],[65,67,34,37],[65,69,34,42],[66,8,35,4],[66,12,35,8],[67,10,36,6,"console"],[67,17,36,13],[67,18,36,14,"log"],[67,21,36,17],[67,22,36,18],[67,58,36,54],[67,60,36,56,"newUser"],[67,67,36,63],[67,68,36,64],[68,10,37,6],[68,16,37,12],[68,20,37,12,"saveUser"],[68,37,37,20],[68,38,37,20,"saveUser"],[68,46,37,20],[68,48,37,21,"newUser"],[68,55,37,28],[68,56,37,29],[69,10,38,6,"setUser"],[69,17,38,13],[69,18,38,14,"newUser"],[69,25,38,21],[69,26,38,22],[70,10,39,6,"console"],[70,17,39,13],[70,18,39,14,"log"],[70,21,39,17],[70,22,39,18],[70,51,39,47],[70,53,39,49,"newUser"],[70,60,39,56],[70,61,39,57],[71,8,40,4],[71,9,40,5],[71,10,40,6],[71,17,40,13,"error"],[71,22,40,18],[71,24,40,20],[72,10,41,6,"console"],[72,17,41,13],[72,18,41,14,"error"],[72,23,41,19],[72,24,41,20],[72,45,41,41],[72,47,41,43,"error"],[72,52,41,48],[72,53,41,49],[73,10,42,6],[73,16,42,12,"error"],[73,21,42,17],[74,8,43,4],[75,6,44,2],[75,7,44,3],[76,6,44,3],[76,22,34,8,"signIn"],[76,28,34,14,"signIn"],[76,29,34,14,"_x"],[76,31,34,14],[77,8,34,14],[77,15,34,14,"_ref3"],[77,20,34,14],[77,21,34,14,"apply"],[77,26,34,14],[77,33,34,14,"arguments"],[77,42,34,14],[78,6,34,14],[79,4,34,14],[79,7,44,3],[80,4,46,2],[80,8,46,8,"signOut"],[80,15,46,15],[81,6,46,15],[81,10,46,15,"_ref4"],[81,15,46,15],[81,22,46,15,"_asyncToGenerator"],[81,39,46,15],[81,40,46,15,"default"],[81,47,46,15],[81,49,46,18],[81,62,46,30],[82,8,47,4],[82,12,47,8],[83,10,48,6],[83,16,48,12],[83,20,48,12,"clearUser"],[83,37,48,21],[83,38,48,21,"clearUser"],[83,47,48,21],[83,49,48,22],[83,50,48,23],[84,10,49,6,"setUser"],[84,17,49,13],[84,18,49,14],[84,22,49,18],[84,23,49,19],[85,8,50,4],[85,9,50,5],[85,10,50,6],[85,17,50,13,"error"],[85,22,50,18],[85,24,50,20],[86,10,51,6,"console"],[86,17,51,13],[86,18,51,14,"error"],[86,23,51,19],[86,24,51,20],[86,44,51,40],[86,46,51,42,"error"],[86,51,51,47],[86,52,51,48],[87,10,52,6],[87,16,52,12,"error"],[87,21,52,17],[88,8,53,4],[89,6,54,2],[89,7,54,3],[90,6,54,3],[90,22,46,8,"signOut"],[90,29,46,15,"signOut"],[90,30,46,15],[91,8,46,15],[91,15,46,15,"_ref4"],[91,20,46,15],[91,21,46,15,"apply"],[91,26,46,15],[91,33,46,15,"arguments"],[91,42,46,15],[92,6,46,15],[93,4,46,15],[93,7,54,3],[94,4,56,2],[94,8,56,8,"continueAsGuest"],[94,23,56,23],[95,6,56,23],[95,10,56,23,"_ref5"],[95,15,56,23],[95,22,56,23,"_asyncToGenerator"],[95,39,56,23],[95,40,56,23,"default"],[95,47,56,23],[95,49,56,26],[95,62,56,38],[96,8,57,4],[96,12,57,10,"guestUser"],[96,21,57,25],[96,24,57,28],[97,10,58,6,"id"],[97,12,58,8],[97,14,58,10],[97,22,58,18],[97,25,58,21,"Date"],[97,29,58,25],[97,30,58,26,"now"],[97,33,58,29],[97,34,58,30],[97,35,58,31],[98,10,59,6,"email"],[98,15,59,11],[98,17,59,13],[98,21,59,17],[99,10,60,6,"fullName"],[99,18,60,14],[99,20,60,16],[99,24,60,20],[100,10,61,6,"isAnonymous"],[100,21,61,17],[100,23,61,19],[101,8,62,4],[101,9,62,5],[102,8,63,4],[102,14,63,10,"signIn"],[102,20,63,16],[102,21,63,17,"guestUser"],[102,30,63,26],[102,31,63,27],[103,6,64,2],[103,7,64,3],[104,6,64,3],[104,22,56,8,"continueAsGuest"],[104,37,56,23,"continueAsGuest"],[104,38,56,23],[105,8,56,23],[105,15,56,23,"_ref5"],[105,20,56,23],[105,21,56,23,"apply"],[105,26,56,23],[105,33,56,23,"arguments"],[105,42,56,23],[106,6,56,23],[107,4,56,23],[107,7,64,3],[108,4,66,2],[108,24,67,4],[108,28,67,4,"_reactJsxDevRuntime"],[108,47,67,4],[108,48,67,4,"jsxDEV"],[108,54,67,4],[108,56,67,5,"UserContext"],[108,67,67,16],[108,68,67,17,"Provider"],[108,76,67,25],[109,6,67,26,"value"],[109,11,67,31],[109,13,67,33],[110,8,67,35,"user"],[110,12,67,39],[111,8,67,41,"loading"],[111,15,67,48],[112,8,67,50,"signIn"],[112,14,67,56],[113,8,67,58,"signOut"],[113,15,67,65],[114,8,67,67,"continueAsGuest"],[115,6,67,83],[115,7,67,85],[116,6,67,85,"children"],[116,14,67,85],[116,16,68,7,"children"],[117,4,68,15],[118,6,68,15,"fileName"],[118,14,68,15],[118,16,68,15,"_jsxFileName"],[118,28,68,15],[119,6,68,15,"lineNumber"],[119,16,68,15],[120,6,68,15,"columnNumber"],[120,18,68,15],[121,4,68,15],[121,11,69,26],[121,12,69,27],[122,2,71,0],[122,3,71,1],[123,2,71,2,"_s"],[123,4,71,2],[123,5,15,13,"UserProvider"],[123,17,15,60],[124,2,15,60,"_c"],[124,4,15,60],[124,7,15,13,"UserProvider"],[124,19,15,60],[125,2,73,7],[125,6,73,13,"useUser"],[125,13,73,20],[125,16,73,23,"useUser"],[125,17,73,23],[125,22,73,29],[126,4,73,29,"_s2"],[126,7,73,29],[127,4,74,2],[127,8,74,8,"context"],[127,15,74,15],[127,18,74,18],[127,22,74,18,"useContext"],[127,28,74,28],[127,29,74,28,"useContext"],[127,39,74,28],[127,41,74,29,"UserContext"],[127,52,74,40],[127,53,74,41],[128,4,75,2],[128,8,75,6,"context"],[128,15,75,13],[128,20,75,18,"undefined"],[128,29,75,27],[128,31,75,29],[129,6,76,4],[129,12,76,10],[129,16,76,14,"Error"],[129,21,76,19],[129,22,76,20],[129,66,76,64],[129,67,76,65],[130,4,77,2],[131,4,78,2],[131,11,78,9,"context"],[131,18,78,16],[132,2,79,0],[132,3,79,1],[133,2,79,2,"_s2"],[133,5,79,2],[133,6,73,13,"useUser"],[133,13,73,20],[134,2,73,20],[134,6,73,20,"_c"],[134,8,73,20],[135,2,73,20,"$RefreshReg$"],[135,14,73,20],[135,15,73,20,"_c"],[135,17,73,20],[136,0,73,20],[136,3]],"functionMap":{"names":["<global>","UserProvider","useEffect$argument_0","loadUser","signIn","signOut","continueAsGuest","useUser"],"mappings":"AAA;+DCc;YCI;GDE;mBEE;GFS;iBGE;GHU;kBIE;GJQ;0BKE;GLQ;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}