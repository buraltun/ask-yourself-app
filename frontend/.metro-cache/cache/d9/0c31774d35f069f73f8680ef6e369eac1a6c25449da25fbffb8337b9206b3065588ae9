{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utils/userStorage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":123},"end":{"line":3,"column":68,"index":191}}],"key":"oOXmBNnRJFMDnc03MXM5nSfcPLs=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/UserContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"UserProvider\", {\n    enumerable: true,\n    get: function () {\n      return UserProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useUser\", {\n    enumerable: true,\n    get: function () {\n      return useUser;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _utilsUserStorage = require(_dependencyMap[1], \"../utils/userStorage\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const UserContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const UserProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadUser();\n    }, []);\n    const loadUser = async () => {\n      try {\n        const savedUser = await (0, _utilsUserStorage.getUser)();\n        setUser(savedUser);\n      } catch (error) {\n        console.error('Error loading user:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const signIn = async newUser => {\n      try {\n        await (0, _utilsUserStorage.saveUser)(newUser);\n        setUser(newUser);\n      } catch (error) {\n        console.error('Error signing in:', error);\n        throw error;\n      }\n    };\n    const signOut = async () => {\n      try {\n        await (0, _utilsUserStorage.clearUser)();\n        setUser(null);\n      } catch (error) {\n        console.error('Error signing out:', error);\n        throw error;\n      }\n    };\n    const continueAsGuest = async () => {\n      const guestUser = {\n        id: 'guest_' + Date.now(),\n        email: null,\n        fullName: null,\n        isAnonymous: true\n      };\n      await signIn(guestUser);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(UserContext.Provider, {\n      value: {\n        user,\n        loading,\n        signIn,\n        signOut,\n        continueAsGuest\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this);\n  };\n  _s(UserProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = UserProvider;\n  const useUser = () => {\n    _s2();\n    const context = (0, _react.useContext)(UserContext);\n    if (context === undefined) {\n      throw new Error('useUser must be used within a UserProvider');\n    }\n    return context;\n  };\n  _s2(useUser, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"UserProvider\");\n});","lineCount":100,"map":[[10,2,15,0,"Object"],[10,8,15,0],[10,9,15,0,"defineProperty"],[10,23,15,0],[10,24,15,0,"exports"],[10,31,15,0],[11,4,15,0,"enumerable"],[11,14,15,0],[12,4,15,0,"get"],[12,7,15,0],[12,18,15,0,"get"],[12,19,15,0],[13,6,15,0],[13,13,15,0,"UserProvider"],[13,25,15,0],[14,4,15,0],[15,2,15,0],[16,2,71,0,"Object"],[16,8,71,0],[16,9,71,0,"defineProperty"],[16,23,71,0],[16,24,71,0,"exports"],[16,31,71,0],[17,4,71,0,"enumerable"],[17,14,71,0],[18,4,71,0,"get"],[18,7,71,0],[18,18,71,0,"get"],[18,19,71,0],[19,6,71,0],[19,13,71,0,"useUser"],[19,20,71,0],[20,4,71,0],[21,2,71,0],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,3,0],[23,6,3,0,"_utilsUserStorage"],[23,23,3,0],[23,26,3,0,"require"],[23,33,3,0],[23,34,3,0,"_dependencyMap"],[23,48,3,0],[24,2,3,68],[24,6,3,68,"_reactJsxDevRuntime"],[24,25,3,68],[24,28,3,68,"require"],[24,35,3,68],[24,36,3,68,"_dependencyMap"],[24,50,3,68],[25,2,13,0],[25,8,13,6,"UserContext"],[25,19,13,17],[25,35,13,20],[25,39,13,20,"createContext"],[25,45,13,33],[25,46,13,33,"createContext"],[25,59,13,33],[25,61,13,63,"undefined"],[25,70,13,72],[25,71,13,73],[26,2,15,7],[26,8,15,13,"UserProvider"],[26,20,15,60],[26,23,15,63,"UserProvider"],[26,24,15,64],[27,4,15,66,"children"],[28,2,15,75],[28,3,15,76],[28,8,15,81],[29,4,15,81,"_s"],[29,6,15,81],[30,4,16,2],[30,10,16,8],[30,11,16,9,"user"],[30,15,16,13],[30,17,16,15,"setUser"],[30,24,16,22],[30,25,16,23],[30,28,16,26],[30,32,16,26,"useState"],[30,38,16,34],[30,39,16,34,"useState"],[30,47,16,34],[30,49,16,48],[30,53,16,52],[30,54,16,53],[31,4,17,2],[31,10,17,8],[31,11,17,9,"loading"],[31,18,17,16],[31,20,17,18,"setLoading"],[31,30,17,28],[31,31,17,29],[31,34,17,32],[31,38,17,32,"useState"],[31,44,17,40],[31,45,17,40,"useState"],[31,53,17,40],[31,55,17,41],[31,59,17,45],[31,60,17,46],[32,4,19,2],[32,8,19,2,"useEffect"],[32,14,19,11],[32,15,19,11,"useEffect"],[32,24,19,11],[32,26,19,12],[32,32,19,18],[33,6,20,4,"loadUser"],[33,14,20,12],[33,15,20,13],[33,16,20,14],[34,4,21,2],[34,5,21,3],[34,7,21,5],[34,9,21,7],[34,10,21,8],[35,4,23,2],[35,10,23,8,"loadUser"],[35,18,23,16],[35,21,23,19],[35,27,23,19,"loadUser"],[35,28,23,19],[35,33,23,31],[36,6,24,4],[36,10,24,8],[37,8,25,6],[37,14,25,12,"savedUser"],[37,23,25,21],[37,26,25,24],[37,32,25,30],[37,36,25,30,"getUser"],[37,53,25,37],[37,54,25,37,"getUser"],[37,61,25,37],[37,63,25,38],[37,64,25,39],[38,8,26,6,"setUser"],[38,15,26,13],[38,16,26,14,"savedUser"],[38,25,26,23],[38,26,26,24],[39,6,27,4],[39,7,27,5],[39,8,27,6],[39,15,27,13,"error"],[39,20,27,18],[39,22,27,20],[40,8,28,6,"console"],[40,15,28,13],[40,16,28,14,"error"],[40,21,28,19],[40,22,28,20],[40,43,28,41],[40,45,28,43,"error"],[40,50,28,48],[40,51,28,49],[41,6,29,4],[41,7,29,5],[41,16,29,14],[42,8,30,6,"setLoading"],[42,18,30,16],[42,19,30,17],[42,24,30,22],[42,25,30,23],[43,6,31,4],[44,4,32,2],[44,5,32,3],[45,4,34,2],[45,10,34,8,"signIn"],[45,16,34,14],[45,19,34,17],[45,25,34,24,"newUser"],[45,32,34,37],[45,36,34,42],[46,6,35,4],[46,10,35,8],[47,8,36,6],[47,14,36,12],[47,18,36,12,"saveUser"],[47,35,36,20],[47,36,36,20,"saveUser"],[47,44,36,20],[47,46,36,21,"newUser"],[47,53,36,28],[47,54,36,29],[48,8,37,6,"setUser"],[48,15,37,13],[48,16,37,14,"newUser"],[48,23,37,21],[48,24,37,22],[49,6,38,4],[49,7,38,5],[49,8,38,6],[49,15,38,13,"error"],[49,20,38,18],[49,22,38,20],[50,8,39,6,"console"],[50,15,39,13],[50,16,39,14,"error"],[50,21,39,19],[50,22,39,20],[50,41,39,39],[50,43,39,41,"error"],[50,48,39,46],[50,49,39,47],[51,8,40,6],[51,14,40,12,"error"],[51,19,40,17],[52,6,41,4],[53,4,42,2],[53,5,42,3],[54,4,44,2],[54,10,44,8,"signOut"],[54,17,44,15],[54,20,44,18],[54,26,44,18,"signOut"],[54,27,44,18],[54,32,44,30],[55,6,45,4],[55,10,45,8],[56,8,46,6],[56,14,46,12],[56,18,46,12,"clearUser"],[56,35,46,21],[56,36,46,21,"clearUser"],[56,45,46,21],[56,47,46,22],[56,48,46,23],[57,8,47,6,"setUser"],[57,15,47,13],[57,16,47,14],[57,20,47,18],[57,21,47,19],[58,6,48,4],[58,7,48,5],[58,8,48,6],[58,15,48,13,"error"],[58,20,48,18],[58,22,48,20],[59,8,49,6,"console"],[59,15,49,13],[59,16,49,14,"error"],[59,21,49,19],[59,22,49,20],[59,42,49,40],[59,44,49,42,"error"],[59,49,49,47],[59,50,49,48],[60,8,50,6],[60,14,50,12,"error"],[60,19,50,17],[61,6,51,4],[62,4,52,2],[62,5,52,3],[63,4,54,2],[63,10,54,8,"continueAsGuest"],[63,25,54,23],[63,28,54,26],[63,34,54,26,"continueAsGuest"],[63,35,54,26],[63,40,54,38],[64,6,55,4],[64,12,55,10,"guestUser"],[64,21,55,25],[64,24,55,28],[65,8,56,6,"id"],[65,10,56,8],[65,12,56,10],[65,20,56,18],[65,23,56,21,"Date"],[65,27,56,25],[65,28,56,26,"now"],[65,31,56,29],[65,32,56,30],[65,33,56,31],[66,8,57,6,"email"],[66,13,57,11],[66,15,57,13],[66,19,57,17],[67,8,58,6,"fullName"],[67,16,58,14],[67,18,58,16],[67,22,58,20],[68,8,59,6,"isAnonymous"],[68,19,59,17],[68,21,59,19],[69,6,60,4],[69,7,60,5],[70,6,61,4],[70,12,61,10,"signIn"],[70,18,61,16],[70,19,61,17,"guestUser"],[70,28,61,26],[70,29,61,27],[71,4,62,2],[71,5,62,3],[72,4,64,2],[72,24,65,4],[72,28,65,4,"_reactJsxDevRuntime"],[72,47,65,4],[72,48,65,4,"jsxDEV"],[72,54,65,4],[72,56,65,5,"UserContext"],[72,67,65,16],[72,68,65,17,"Provider"],[72,76,65,25],[73,6,65,26,"value"],[73,11,65,31],[73,13,65,33],[74,8,65,35,"user"],[74,12,65,39],[75,8,65,41,"loading"],[75,15,65,48],[76,8,65,50,"signIn"],[76,14,65,56],[77,8,65,58,"signOut"],[77,15,65,65],[78,8,65,67,"continueAsGuest"],[79,6,65,83],[79,7,65,85],[80,6,65,85,"children"],[80,14,65,85],[80,16,66,7,"children"],[81,4,66,15],[82,6,66,15,"fileName"],[82,14,66,15],[82,16,66,15,"_jsxFileName"],[82,28,66,15],[83,6,66,15,"lineNumber"],[83,16,66,15],[84,6,66,15,"columnNumber"],[84,18,66,15],[85,4,66,15],[85,11,67,26],[85,12,67,27],[86,2,69,0],[86,3,69,1],[87,2,69,2,"_s"],[87,4,69,2],[87,5,15,13,"UserProvider"],[87,17,15,60],[88,2,15,60,"_c"],[88,4,15,60],[88,7,15,13,"UserProvider"],[88,19,15,60],[89,2,71,7],[89,8,71,13,"useUser"],[89,15,71,20],[89,18,71,23,"useUser"],[89,19,71,23],[89,24,71,29],[90,4,71,29,"_s2"],[90,7,71,29],[91,4,72,2],[91,10,72,8,"context"],[91,17,72,15],[91,20,72,18],[91,24,72,18,"useContext"],[91,30,72,28],[91,31,72,28,"useContext"],[91,41,72,28],[91,43,72,29,"UserContext"],[91,54,72,40],[91,55,72,41],[92,4,73,2],[92,8,73,6,"context"],[92,15,73,13],[92,20,73,18,"undefined"],[92,29,73,27],[92,31,73,29],[93,6,74,4],[93,12,74,10],[93,16,74,14,"Error"],[93,21,74,19],[93,22,74,20],[93,66,74,64],[93,67,74,65],[94,4,75,2],[95,4,76,2],[95,11,76,9,"context"],[95,18,76,16],[96,2,77,0],[96,3,77,1],[97,2,77,2,"_s2"],[97,5,77,2],[97,6,71,13,"useUser"],[97,13,71,20],[98,2,71,20],[98,6,71,20,"_c"],[98,8,71,20],[99,2,71,20,"$RefreshReg$"],[99,14,71,20],[99,15,71,20,"_c"],[99,17,71,20],[100,0,71,20],[100,3]],"functionMap":{"names":["<global>","UserProvider","useEffect$argument_0","loadUser","signIn","signOut","continueAsGuest","useUser"],"mappings":"AAA;+DCc;YCI;GDE;mBEE;GFS;iBGE;GHQ;kBIE;GJQ;0BKE;GLQ;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}